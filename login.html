<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <link rel="stylesheet" href="l.and.r.css">
</head>
<body>

<header>
  <div>🇷🇴 România</div>
  <div class="right">
    <span id="oraSite">Site pornit la: --:--:--</span>
    <nav>
      <a href="menu.html">Acasă</a>
      <a href="register.html" id="navRegister">Register</a>
      <a href="login.html" id="navLogin">Login</a>
      <a href="#" id="navLogout" style="display: none;">Logout</a>
      <button id="darkModeToggle" style="margin-left: 20px; padding: 6px 12px; border:none; border-radius:8px; cursor:pointer; background:#3498db; color:#fff; font-weight:600; transition: background 0.3s ease;">
        Dark Mode
      </button>
    </nav>
  </div>
</header>

<div class="auth-container">
  <h2>🔐 Autentificare</h2>
  <form class="auth-form">
  <input type="email" id="emailInput" placeholder="Email" required>

  <div style="position: relative;">
    <input type="password" id="passwordInput" placeholder="Parolă" required style="width: 100%; padding-right: 40px;">
    <button type="button" id="togglePassword" style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); border: none; background: transparent; cursor: pointer; font-size: 16px;">
      👁
    </button>
  </div>

  <button type="submit">Login</button>
  <p>Nu ai cont? <a href="register.html">Înregistrează-te</a></p>
</form>
</div>

<footer>
  &copy; 2025 Pagina Joc. Toate drepturile rezervate.
</footer>

<script>
  // Ora pornire site
  const oraSite = document.getElementById('oraSite');
  oraSite.textContent = 'Site pornit la: ' + new Date().toLocaleTimeString('ro-RO');

  // Dark Mode
  const darkModeToggle = document.getElementById('darkModeToggle');
  if (localStorage.getItem('theme') === 'dark') {
    document.body.classList.add('dark-mode');
    darkModeToggle.textContent = 'Light Mode';
  }
  darkModeToggle.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
    const temaNoua = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
    localStorage.setItem('theme', temaNoua);
    darkModeToggle.textContent = temaNoua === 'dark' ? 'Light Mode' : 'Dark Mode';
  });

  // Gestionare Login/Logout
  function actualizeazaMeniu() {
    const isLoggedIn = localStorage.getItem('loggedIn') === 'true';
    const navLogin = document.getElementById('navLogin');
    const navRegister = document.getElementById('navRegister');
    const navLogout = document.getElementById('navLogout');

    if (isLoggedIn) {
      navLogin.style.display = 'none';
      navRegister.style.display = 'none';
      navLogout.style.display = 'inline';
    } else {
      navLogin.style.display = 'inline';
      navRegister.style.display = 'inline';
      navLogout.style.display = 'none';
    }
  }

  document.getElementById('navLogout').addEventListener('click', () => {
    localStorage.setItem('loggedIn', 'false');
    actualizeazaMeniu();
    window.location.href = 'menu.html';
  });

  actualizeazaMeniu();

  // Login
  document.querySelector('.auth-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const email = document.getElementById('emailInput').value.trim();
    const password = document.getElementById('passwordInput').value.trim();

    // Aici poți valida dacă email și parolă sunt corecte (test static):
    if (email === 'dragosginu299@example.com' && password === 'parola123') {
      localStorage.setItem('loggedIn', 'true');
      window.location.href = 'menu.html';
    } else {
      alert('Email sau parolă incorecte!');
    }
  });

  // Comutare vizibilitate parolă
document.getElementById('togglePassword').addEventListener('click', () => {
  const parola = document.getElementById('passwordInput');
  const esteText = parola.type === 'text';
  parola.type = esteText ? 'password' : 'text';
});

</script>

</body>
</html>
